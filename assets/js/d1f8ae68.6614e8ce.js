"use strict";(self.webpackChunkdataport_docusaurus=self.webpackChunkdataport_docusaurus||[]).push([[9836],{6456:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"Getting started","title":"Getting started","description":"Glossary / Quick Links","source":"@site/docs/Getting started.md","sourceDirName":".","slug":"/Getting started","permalink":"/docs/Getting started","draft":false,"unlisted":false,"editUrl":"https://github.com/hpi-schul-cloud/hpi-schul-cloud.github.io/blob/main/docs/Getting started.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Congratulations!","permalink":"/docs/How to update the docs/congratulations"}}');var i=s(4848),r=s(8453);const o={},t="Getting started",d={},a=[{value:"Glossary / Quick Links",id:"glossary--quick-links",level:2},{value:"Windows Installation",id:"windows-installation",level:2},{value:"Prerequisites for Installation",id:"prerequisites-for-installation",level:3},{value:"1. Create local folder and clone project from Github",id:"1-create-local-folder-and-clone-project-from-github",level:3},{value:"2. Set up database",id:"2-set-up-database",level:3},{value:"3. Set up server",id:"3-set-up-server",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Start server",id:"start-server",level:4},{value:"4. Set up Legacy Client (schulcloud-client)",id:"4-set-up-legacy-client-schulcloud-client",level:3},{value:"5. Set up Nuxt Client",id:"5-set-up-nuxt-client",level:3},{value:"Possible Issues",id:"possible-issues",level:3},{value:"Installation for MacOS (Intel &amp; Apple M1 Chip)",id:"installation-for-macos-intel--apple-m1-chip",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"1. Create local folder and clone project from Github",id:"1-create-local-folder-and-clone-project-from-github-1",level:3},{value:"2. Set up database",id:"2-set-up-database-1",level:3},{value:"2.1 Updating mongo version on Mac if used via homebrew service (tested on MacBook Pro M1 Max, August 2025)",id:"21-updating-mongo-version-on-mac-if-used-via-homebrew-service-tested-on-macbook-pro-m1-max-august-2025",level:4},{value:"3. Set up server",id:"3-set-up-server-1",level:3},{value:"Prerequisites (Apple M1 Chip)",id:"prerequisites-apple-m1-chip",level:4},{value:"Prerequisites (Intel &amp; Apple M1 Chip)",id:"prerequisites-intel--apple-m1-chip",level:4},{value:"Start server",id:"start-server-1",level:4},{value:"4. Set up Legacy Client (schulcloud-client)",id:"4-set-up-legacy-client-schulcloud-client-1",level:3},{value:"Possible Issues",id:"possible-issues-1",level:4},{value:"5. Set up Nuxt Client",id:"5-set-up-nuxt-client-1",level:3},{value:"For Apple M1 Chips",id:"for-apple-m1-chips",level:4},{value:"For Intel &amp; Apple M1 Chips",id:"for-intel--apple-m1-chips",level:4},{value:"Possible Issues",id:"possible-issues-2",level:4},{value:"Setup of Connected Systems",id:"setup-of-connected-systems",level:2},{value:"Set up calendar",id:"set-up-calendar",level:3},{value:"Test local mailing",id:"test-local-mailing",level:3},{value:"Local Files Storage",id:"local-files-storage",level:3},{value:"Local Legacy File System",id:"local-legacy-file-system",level:3},{value:"Generate image previews",id:"generate-image-previews",level:3},{value:"Local antivirus via Docker",id:"local-antivirus-via-docker",level:3},{value:"Set up Redis",id:"set-up-redis",level:3},{value:"Set up SuperHero Dashboard",id:"set-up-superhero-dashboard",level:3}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"getting-started",children:"Getting started"})}),"\n",(0,i.jsx)(n.h2,{id:"glossary--quick-links",children:"Glossary / Quick Links"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#getting-started",children:"Getting started"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#glossary--quick-links",children:"Glossary / Quick Links"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#windows-installation",children:"Windows Installation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites-for-installation",children:"Prerequisites for Installation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#1-create-local-folder-and-clone-project-from-github",children:"1. Create local folder and clone project from Github"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#2-set-up-database",children:"2. Set up database"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#3-set-up-server",children:"3. Set up server"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites",children:"Prerequisites"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#start-server",children:"Start server"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#4-set-up-legacy-client-schulcloud-client",children:"4. Set up Legacy Client (schulcloud-client)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#5-set-up-nuxt-client",children:"5. Set up Nuxt Client"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#possible-issues",children:"Possible Issues"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#installation-for-macos-intel--apple-m1-chip",children:"Installation for MacOS (Intel & Apple M1 Chip)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites-1",children:"Prerequisites"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#1-create-local-folder-and-clone-project-from-github-1",children:"1. Create local folder and clone project from Github"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#2-set-up-database-1",children:"2. Set up database"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#21-updating-mongo-version-on-mac-if-used-via-homebrew-service-tested-on-macbook-pro-m1-max-august-2025",children:"2.1 Updating mongo version on Mac if used via homebrew service (tested on MacBook Pro M1 Max, August 2025)"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#3-set-up-server-1",children:"3. Set up server"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites-apple-m1-chip",children:"Prerequisites (Apple M1 Chip)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites-intel--apple-m1-chip",children:"Prerequisites (Intel & Apple M1 Chip)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#start-server-1",children:"Start server"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#4-set-up-legacy-client-schulcloud-client-1",children:"4. Set up Legacy Client (schulcloud-client)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#possible-issues-1",children:"Possible Issues"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#5-set-up-nuxt-client-1",children:"5. Set up Nuxt Client"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#for-apple-m1-chips",children:"For Apple M1 Chips"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#for-intel--apple-m1-chips",children:"For Intel & Apple M1 Chips"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#possible-issues-2",children:"Possible Issues"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#setup-of-connected-systems",children:"Setup of Connected Systems"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#set-up-calendar",children:"Set up calendar"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#test-local-mailing",children:"Test local mailing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#local-files-storage",children:"Local Files Storage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#local-legacy-file-system",children:"Local Legacy File System"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#generate-image-previews",children:"Generate image previews"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#local-antivirus-via-docker",children:"Local antivirus via Docker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#set-up-redis",children:"Set up Redis"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#set-up-superhero-dashboard",children:"Set up SuperHero Dashboard"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"windows-installation",children:"Windows Installation"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites-for-installation",children:"Prerequisites for Installation"}),"\n",(0,i.jsx)(n.p,{children:"For installation directly under C:/ administrator rights are required, otherwise the work environment can also be created in the user directory (C:/Users/[Username])."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install ",(0,i.jsx)(n.a,{href:"https://git-scm.com/downloads",children:"Git"})," if not available"]}),"\n",(0,i.jsxs)(n.li,{children:["Install ",(0,i.jsx)(n.a,{href:"https://nodejs.org/de/",children:"Node"})," (check version, see package.json)","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/coreybutler/nvm-windows",children:"nvm"})," (Node Version Manager) is recommended --- (explain nvm usage in more detail)"]}),"\n",(0,i.jsxs)(n.li,{children:["Practical guide from Microsoft: ",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/nodejs/setup-on-windows",children:"Set up your Node.js development environment directly on Windows"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.python.org/downloads/windows/",children:"Python"})," 2.7"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://conemu.github.io/",children:"ConEmu"})," or another terminal"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add each to PATH, log out/log in if necessary or at least reopen CMD if already open."}),"\n",(0,i.jsx)(n.h3,{id:"1-create-local-folder-and-clone-project-from-github",children:"1. Create local folder and clone project from Github"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create and open folder (in this guide ~/Bildungscloud/ is used as path)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd /d C:/ && md Bildungscloud && cd Bildungscloud\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Clone repositories"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/hpi-schul-cloud/schulcloud-server\ngit clone https://github.com/hpi-schul-cloud/schulcloud-client\ngit clone https://github.com/hpi-schul-cloud/nuxt-client\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Not necessary for running Bildungscloud, but still interesting for developers are the repositories for our ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/end-to-end-tests",children:"End-2-End tests"})," and the ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/dof_app_deploy",children:"Deployment"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-set-up-database",children:"2. Set up database"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create database folder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"md C:/Bildungscloud/db\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-windows/",children:"Install MongoDB"})," (Community Server)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start database (adjust version and path accordingly beforehand)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'"C:\\Program Files\\MongoDB\\Server\\5.0\\bin\\mongod" --dbpath "D:\\apps\\SchulCloud\\db"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Fill database with test data"}),"\n",(0,i.jsx)(n.p,{children:"In the schulcloud-server folder:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run setup:db:seed\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.mongodb.com/try/download/tools",children:"MongoDB Compass"})," to view the database"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-set-up-server",children:"3. Set up server"}),"\n",(0,i.jsx)(n.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd schulcloud-server && npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.erlang.org/",children:"Erlang"})," (not necessarily required)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.docker.com/get-started/",children:"Docker"})," (or ",(0,i.jsx)(n.a,{href:"https://github.com/abiosoft/colima",children:"Colima"})," via ",(0,i.jsx)(n.strong,{children:"brew install colima docker"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.rabbitmq.com/",children:"RabbitMQ"})," (",(0,i.jsx)(n.a,{href:"https://www.rabbitmq.com/install-windows.html",children:"Installation Guide"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"start-server",children:"Start server"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start RabbitMQ"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.8.9-management\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run nest:start:dev\n"})}),"\n",(0,i.jsxs)(n.p,{children:["(or ",(0,i.jsx)(n.code,{children:"npm run nest:start:debug"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:3030/",children:"http://localhost:3030/"})," shows the feathers start page."]}),"\n",(0,i.jsx)(n.h3,{id:"4-set-up-legacy-client-schulcloud-client",children:"4. Set up Legacy Client (schulcloud-client)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -g nodemon\ncd schulcloud-client && npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Build client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run watch\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:3100/",children:"http://localhost:3100/"})," shows the Bildungscloud start page."]}),"\n",(0,i.jsx)(n.h3,{id:"5-set-up-nuxt-client",children:"5. Set up Nuxt Client"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start Nuxt Client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run serve\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:4000/",children:"http://localhost:4000/"})," shows the Bildungscloud start page."]}),"\n",(0,i.jsx)(n.h3,{id:"possible-issues",children:"Possible Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/de-de/cpp/build/vscpp-step-0-installation?view=msvc-170",children:"Install support for C and C++ in Visual Studio"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["There can be problems with the 2022 version, then you can install the ",(0,i.jsx)(n.a,{href:"https://visualstudio.microsoft.com/de/vs/older-downloads/",children:"2019 version"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation-for-macos-intel--apple-m1-chip",children:"Installation for MacOS (Intel & Apple M1 Chip)"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Install ",(0,i.jsx)(n.a,{href:"https://brew.sh/",children:"Homebrew"})," (incl. Xcode Command Line Tools, if not available)"]}),"\n",(0,i.jsxs)(n.li,{children:["Install ",(0,i.jsx)(n.a,{href:"https://git-scm.com/downloads",children:"Git"})," if not available"]}),"\n",(0,i.jsxs)(n.li,{children:["Install ",(0,i.jsx)(n.a,{href:"https://nodejs.org/de/",children:"Node"})," (check version, see package.json)","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," (Node Version Manager) is recommended"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"1-create-local-folder-and-clone-project-from-github-1",children:"1. Create local folder and clone project from Github"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create and open folder (in this guide ~/Bildungscloud/ is used as path)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir Bildungscloud && cd Bildungscloud\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Clone repositories"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/hpi-schul-cloud/schulcloud-server\ngit clone https://github.com/hpi-schul-cloud/schulcloud-client\ngit clone https://github.com/hpi-schul-cloud/nuxt-client\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Not necessary for running Bildungscloud, but still interesting for developers are the repositories for our ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/end-to-end-tests",children:"End-2-End tests"})," and the ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/dof_app_deploy",children:"Deployment"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-set-up-database-1",children:"2. Set up database"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create database folder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir ~/Bildungscloud/db\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/",children:"Install MongoDB"})," (Community Server)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew tap mongodb/brew\nbrew install mongodb-community@5.0\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Fill database with test data"}),"\n",(0,i.jsx)(n.p,{children:"In the schulcloud-server folder:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run setup:db:seed\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.mongodb.com/try/download/tools",children:"MongoDB Compass"})," to view the database"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["A few helpful tips for working with MongoDB: ",(0,i.jsx)(n.a,{href:"https://docs.dbildungscloud.de/x/NIJdD",children:"https://docs.dbildungscloud.de/x/NIJdD"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"21-updating-mongo-version-on-mac-if-used-via-homebrew-service-tested-on-macbook-pro-m1-max-august-2025",children:"2.1 Updating mongo version on Mac if used via homebrew service (tested on MacBook Pro M1 Max, August 2025)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["stop recent service: ",(0,i.jsx)(n.code,{children:"brew services stop mongodb/brew/mongodb-community@_VERSION_"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["check activity window if ",(0,i.jsx)(n.code,{children:"mongod"})," is not present anymore"]}),"\n",(0,i.jsxs)(n.li,{children:["check list of current homebrew services and check for stoped service: ",(0,i.jsx)(n.code,{children:"brew services list"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["uninstall recent version (",(0,i.jsx)(n.em,{children:"if no local database backup necessary"}),"): ",(0,i.jsx)(n.code,{children:"brew uninstall mongodb/brew/mongodb-community@_VERSION_"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"brew autoremove"})," to remove unneeded dependencies"]}),"\n",(0,i.jsxs)(n.li,{children:["check ",(0,i.jsx)(n.code,{children:"brew services list"}),", recent mongodb version should not be present anymore"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["remove old db data within ",(0,i.jsx)(n.code,{children:"/opt/homebrew/var"})," with ",(0,i.jsx)(n.code,{children:"rm -rf mongodb"})," and simply create the new empty folder ",(0,i.jsx)(n.code,{children:"mkdir /opt/homebrew/var/mongodb"})," (or remove content of folder itself, what ever is easier for you)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["go to ",(0,i.jsx)(n.code,{children:"/opt/homebrew/etc"})," and check ",(0,i.jsx)(n.code,{children:"mongod.conf"})," if value ",(0,i.jsx)(n.code,{children:"storage.dbPath"})," is set to before created folder ",(0,i.jsx)(n.code,{children:"/opt/homebrew/var/mongodb"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["install new version with ",(0,i.jsx)(n.code,{children:"brew install mongodb/brew/mongodb-community@_NEW_VERSION_"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["check ",(0,i.jsx)(n.code,{children:"/opt/homebrew/opt"})," if correct service is present (and old one is gone)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["check for working mongod service with correct config: ",(0,i.jsx)(n.code,{children:"mongod --config /opt/homebrew/etc/mongod.conf"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["stop mongod and simply leave homebrew service running in the background with ",(0,i.jsx)(n.code,{children:"brew services start mongodb/brew/mongodb-community@_NEW_VERSION_"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["check list of current homebrew services and check for started service: ",(0,i.jsx)(n.code,{children:"brew services list"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["be happy and use your wished database software (e.g. Studio 3T), connect to your local db and check if ",(0,i.jsx)(n.code,{children:"db.version()"})," suits your desired version"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["(beforehand of course seed your local database with e.g. ",(0,i.jsx)(n.code,{children:"npm run setup:db:seed"})," in server)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-set-up-server-1",children:"3. Set up server"}),"\n",(0,i.jsx)(n.h4,{id:"prerequisites-apple-m1-chip",children:"Prerequisites (Apple M1 Chip)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://cmake.org/",children:"CMake"})," (via Homebrew)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install cmake\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"prerequisites-intel--apple-m1-chip",children:"Prerequisites (Intel & Apple M1 Chip)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd schulcloud-server && npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.docker.com/get-started/",children:"Docker"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.rabbitmq.com/",children:"RabbitMQ"})," (via ",(0,i.jsx)(n.a,{href:"https://www.rabbitmq.com/install-homebrew.html",children:"Homebrew"}),")"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install rabbitmq\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"start-server-1",children:"Start server"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start database"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew services start mongodb-community@5.0\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start RabbitMQ"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.8.9-management\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start server (automatic reload after saving changes)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run nest:start:dev\n"})}),"\n",(0,i.jsxs)(n.p,{children:["(or ",(0,i.jsx)(n.code,{children:"npm run nest:start:debug"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:3030/",children:"http://localhost:3030/"})," shows the feathers start page."]}),"\n",(0,i.jsx)(n.h3,{id:"4-set-up-legacy-client-schulcloud-client-1",children:"4. Set up Legacy Client (schulcloud-client)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd schulcloud-client && npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Build client (style adjustments are only correctly considered after this command)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start client (automatic reload after saving changes)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run watch\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Choose different theme (e.g. N21)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'declare -x SC_THEME="n21"\nnpm run build\nnpm run start\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"possible-issues-1",children:"Possible Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Python is required, sometimes despite existing Python 3 version an attempt is made to reinstall the CommandLineTools of MacOS. Can be provoked with the command ",(0,i.jsx)(n.strong,{children:"python -v"})]}),"\n",(0,i.jsxs)(n.p,{children:["First check if the directory ",(0,i.jsx)(n.code,{children:"/Library/Developer/CommandLineTools"})," exists. If yes, install python via homebrew if not already done (in the latest version) and then copy the following lines to the known path collection of the system considering the current version:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/opt/homebrew/opt/python@3.9/libexec/bin\n/opt/homebrew/bin/python3\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:3100/",children:"http://localhost:3100/"})," shows the Bildungscloud start page."]}),"\n",(0,i.jsx)(n.h3,{id:"5-set-up-nuxt-client-1",children:"5. Set up Nuxt Client"}),"\n",(0,i.jsx)(n.h4,{id:"for-apple-m1-chips",children:"For Apple M1 Chips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.a,{href:"https://www.google.com/chrome/",children:"Google Chrome"})]}),"\n",(0,i.jsx)(n.p,{children:"This is recommended to avoid installing Chromium. For development and testing, common browsers should be installed on the system anyway."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Bypass Chromium installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'cd nuxt-client\nexport PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true\nexport PUPPETEER_EXECUTABLE_PATH="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"\n'})}),"\n",(0,i.jsx)(n.p,{children:"or"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'cd nuxt-client\nexport PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true\nexport PUPPETEER_EXECUTABLE_PATH="which chromium"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"for-intel--apple-m1-chips",children:"For Intel & Apple M1 Chips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm ci\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start Nuxt Client (automatic reload after saving changes)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run serve\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Choose different theme (e.g. N21)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'declare -x SC_THEME="n21"\nnpm run build\nnpm run start\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Successful if ",(0,i.jsx)(n.a,{href:"http://localhost:4000/",children:"http://localhost:4000/"})," shows the Bildungscloud start page."]}),"\n",(0,i.jsx)(n.h4,{id:"possible-issues-2",children:"Possible Issues"}),"\n",(0,i.jsxs)(n.p,{children:["If you get the following error message when running ",(0,i.jsx)(n.code,{children:"npm ci"}),":"]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Canvas Installation Error (click to expand)"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm ERR! code 1\nnpm ERR! path /Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas\nnpm ERR! command failed\nnpm ERR! command sh -c node-pre-gyp install --fallback-to-build --update-binary\nnpm ERR! Failed to execute '/Users/AdminUser/.nvm/versions/node/v18.16.1/bin/node /Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --update-binary --module=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release --napi_version=8 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v108' (1)\nnpm ERR! node-pre-gyp info it worked if it ends with ok\nnpm ERR! node-pre-gyp info using node-pre-gyp@1.0.10\nnpm ERR! node-pre-gyp info using node@18.16.1 | darwin | arm64\nnpm ERR! node-pre-gyp http GET https://github.com/Automattic/node-canvas/releases/download/v2.11.0/canvas-v2.11.0-node-v108-darwin-unknown-arm64.tar.gz\nnpm ERR! node-pre-gyp ERR! install response status 404 Not Found on https://github.com/Automattic/node-canvas/releases/download/v2.11.0/canvas-v2.11.0-node-v108-darwin-unknown-arm64.tar.gz \nnpm ERR! node-pre-gyp WARN Pre-built binaries not installable for canvas@2.11.0 and node@18.16.1 (node-v108 ABI, unknown) (falling back to source compile with node-gyp) \nnpm ERR! node-pre-gyp WARN Hit error response status 404 Not Found on https://github.com/Automattic/node-canvas/releases/download/v2.11.0/canvas-v2.11.0-node-v108-darwin-unknown-arm64.tar.gz \nnpm ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@9.4.0\nnpm ERR! gyp info using node@18.16.1 | darwin | arm64\nnpm ERR! gyp info ok \nnpm ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@9.4.0\nnpm ERR! gyp info using node@18.16.1 | darwin | arm64\nnpm ERR! gyp info find Python using Python version 3.11.4 found at \"/opt/homebrew/opt/python@3.11/bin/python3.11\"\nnpm ERR! gyp info spawn /opt/homebrew/opt/python@3.11/bin/python3.11\nnpm ERR! gyp info spawn args [\nnpm ERR! gyp info spawn args   '/Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/gyp/gyp_main.py',\nnpm ERR! gyp info spawn args   'binding.gyp',\nnpm ERR! gyp info spawn args   '-f',\nnpm ERR! gyp info spawn args   'make',\nnpm ERR! gyp info spawn args   '-I',\nnpm ERR! gyp info spawn args   '/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/config.gypi',\nnpm ERR! gyp info spawn args   '-I',\nnpm ERR! gyp info spawn args   '/Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/addon.gypi',\nnpm ERR! gyp info spawn args   '-I',\nnpm ERR! gyp info spawn args   '/Users/AdminUser/Library/Caches/node-gyp/18.16.1/include/node/common.gypi',\nnpm ERR! gyp info spawn args   '-Dlibrary=shared_library',\nnpm ERR! gyp info spawn args   '-Dvisibility=default',\nnpm ERR! gyp info spawn args   '-Dnode_root_dir=/Users/AdminUser/Library/Caches/node-gyp/18.16.1',\nnpm ERR! gyp info spawn args   '-Dnode_gyp_dir=/Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp',\nnpm ERR! gyp info spawn args   '-Dnode_lib_file=/Users/AdminUser/Library/Caches/node-gyp/18.16.1/<(target_arch)/node.lib',\nnpm ERR! gyp info spawn args   '-Dmodule_root_dir=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas',\nnpm ERR! gyp info spawn args   '-Dnode_engine=v8',\nnpm ERR! gyp info spawn args   '--depth=.',\nnpm ERR! gyp info spawn args   '--no-parallel',\nnpm ERR! gyp info spawn args   '--generator-output',\nnpm ERR! gyp info spawn args   'build',\nnpm ERR! gyp info spawn args   '-Goutput_dir=.'\nnpm ERR! gyp info spawn args ]\nnpm ERR! /bin/sh: pkg-config: command not found\nnpm ERR! gyp: Call to 'pkg-config pixman-1 --libs' returned exit status 127 while in binding.gyp. while trying to load binding.gyp\nnpm ERR! gyp ERR! configure error \nnpm ERR! gyp ERR! stack Error: `gyp` failed with exit code: 1\nnpm ERR! gyp ERR! stack     at ChildProcess.onCpExit (/Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:325:16)\nnpm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:513:28)\nnpm ERR! gyp ERR! stack     at ChildProcess._handle.onexit (node:internal/child_process:291:12)\nnpm ERR! gyp ERR! System Darwin 22.5.0\nnpm ERR! gyp ERR! command \"/Users/AdminUser/.nvm/versions/node/v18.16.1/bin/node\" \"/Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--update-binary\" \"--module=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release/canvas.node\" \"--module_name=canvas\" \"--module_path=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release\" \"--napi_version=8\" \"--node_abi_napi=napi\" \"--napi_build_version=0\" \"--node_napi_label=node-v108\"\nnpm ERR! gyp ERR! cwd /Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas\nnpm ERR! gyp ERR! node -v v18.16.1\nnpm ERR! gyp ERR! node-gyp -v v9.4.0\nnpm ERR! gyp ERR! not ok \nnpm ERR! node-pre-gyp ERR! build error \nnpm ERR! node-pre-gyp ERR! stack Error: Failed to execute '/Users/AdminUser/.nvm/versions/node/v18.16.1/bin/node /Users/AdminUser/.nvm/versions/node/v18.16.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --update-binary --module=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas/build/Release --napi_version=8 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v108' (1)\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess.<anonymous> (/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/@mapbox/node-pre-gyp/lib/util/compile.js:89:23)\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess.emit (node:events:513:28)\nnpm ERR! node-pre-gyp ERR! stack     at maybeClose (node:internal/child_process:1091:16)\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess._handle.onexit (node:internal/child_process:302:5)\nnpm ERR! node-pre-gyp ERR! System Darwin 22.5.0\nnpm ERR! node-pre-gyp ERR! command \"/Users/AdminUser/.nvm/versions/node/v18.16.1/bin/node\" \"/Users/AdminUser/Bildungscloud/nuxt-client/node_modules/.bin/node-pre-gyp\" \"install\" \"--fallback-to-build\" \"--update-binary\"\nnpm ERR! node-pre-gyp ERR! cwd /Users/AdminUser/Bildungscloud/nuxt-client/node_modules/canvas\nnpm ERR! node-pre-gyp ERR! node -v v18.16.1\nnpm ERR! node-pre-gyp ERR! node-pre-gyp -v v1.0.10\nnpm ERR! node-pre-gyp ERR! not ok\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["Make sure you're using the correct Node version with ",(0,i.jsx)(n.code,{children:"nvm use"})," and also install the following dependency to install the canvas package:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install pkg-config cairo pango libpng jpeg giflib librsvg\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After that, ",(0,i.jsx)(n.code,{children:"npm ci"})," should run without problems."]}),"\n",(0,i.jsx)(n.h2,{id:"setup-of-connected-systems",children:"Setup of Connected Systems"}),"\n",(0,i.jsx)(n.h3,{id:"set-up-calendar",children:"Set up calendar"}),"\n",(0,i.jsx)(n.p,{children:"You can set up the calendar service, however, this is not necessary for daily use."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Useful links:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.code4it.dev/blog/run-postgresql-with-docker",children:"https://www.code4it.dev/blog/run-postgresql-with-docker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://hub.docker.com/_/postgres",children:"https://hub.docker.com/_/postgres"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.pgadmin.org/",children:"https://www.pgadmin.org/"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://community.chocolatey.org/packages/postgresql",children:"https://community.chocolatey.org/packages/postgresql"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Initial setup:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"docker pull postgres\n> Using default tag: latest\n> latest: Pulling from library/postgres\n> 214ca5fb9032: Pull complete\n> e6930973d723: Pull complete\n> aea7c534f4e1: Pull complete\n> d0ab8814f736: Pull complete\n> 648cc138980a: Pull complete\n> 7804b894301c: Pull complete\n> cfce56252c3f: Pull complete\n> 8cce7305e3b6: Pull complete\n> 8e979d981f07: Pull complete\n> 4b0a5f0b050c: Pull complete\n> a6bc1be6e5b0: Pull complete\n> d115610a4c3b: Pull complete\n> bf74ca3879b4: Pull complete\n> Digest: sha256:117e7b9287612505575ac11db1cf81742eea6fd5cd8b2ce26e40f366b1f74e25\n> Status: Downloaded newer image for postgres:latest\n> docker.io/library/postgres:latest\n\ndocker image ls\n> postgres            latest            dd21862d2f49        9 hours ago         376MB\n\ndocker run --name schulcloud_calendar_db -p 5432:5432 -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=postgres -e POSTGRES_DB=schulcloud_calendar -d postgres\n> b01c1c21ec1a9c275a7c240a23c905b8316d27bebafbe2bb0046416d032ebd64\n\ndocker container list\n> CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\n> b01c1c21ec1a        postgres            \"docker-entrypoint.s\u2026\"   2 minutes ago       Up 2 minutes        0.0.0.0:5432->5432/tcp   schulcloud_calendar\n\n// we need to create a user for the db called node with password node for the application\ndocker exec -it b01c1c21ec1a /bin/bash\nroot@b1054398dc72:/# psql -U postgres\n\npostgres-# CREATE USER node WITH PASSWORD node;\npostgres-# GRANT ALL PRIVILEGES ON DATABASE schulcloud_calendar to node;\n\nexit\n\n// you can test you connection over pgadmin with login as postgres user \n// we need to setup our datatables\n// you can also execute the content of schema.sql in pgadmin directly\npsql -U node -d schulcloud_calendar -a -f schema.sql  \n\ncd ./schulcloud_calendar\nnpm run start\n> schulcloud-calendar@27.12.0 start\n> node src\n\n{\n  message: 'Database connected with 14.3 (Debian 14.3-1.pgdg110+1)',\n  level: 'alert',\n  timestamp: '2022-05-18T09:18:53.713Z',\n  logType: 'log'\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"To restart the container later:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'// find and start container again\ndocker ps -a\n> CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n> b1054398dc72 postgres "docker-entrypoint.s\u2026" 2 days ago Up 2 minutes 0.0.0.0:5432->5432/tcp schulcloud_calendar_db\n\ndocker start b1054398dc72\n\ndocker ps\n> b1054398dc72 postgres "docker-entrypoint.s\u2026" 2 days ago Up 2 minutes 0.0.0.0:5432->5432/tcp schulcloud_calendar_db\n'})}),"\n",(0,i.jsx)(n.h3,{id:"test-local-mailing",children:"Test local mailing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.a,{href:"https://github.com/kaffeekrone/mail-drop",children:"Mail Drop"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"local-files-storage",children:"Local Files Storage"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Clone repository and perform installation as described in repo readme: ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/file-storage",children:"https://github.com/hpi-schul-cloud/file-storage"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start the service"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run start:files-storage:dev\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.strong,{children:"legacy client"}),', the value of "CORS" must be set to false in the ".env" file, otherwise an upload via the old service is not possible.']}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Minio"})," is used here as local storage."]}),"\n",(0,i.jsxs)(n.p,{children:["Execute the following command via local terminal to create a storage via Minio, which is then accessible via ",(0,i.jsx)(n.a,{href:"http://localhost:9000",children:"http://localhost:9000"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'docker run \\\n  --name minioS3storage \\\n  -p 9000:9000 \\\n  -p 9001:9001 \\\n  -e "MINIO_ROOT_USER=miniouser" \\\n  -e "MINIO_ROOT_PASSWORD=miniouser" \\\n  quay.io/minio/minio server /data --console-address ":9001"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"local-legacy-file-system",children:"Local Legacy File System"}),"\n",(0,i.jsx)(n.p,{children:'Minio must be set up, see "Local Files Storage"'}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:['After seeding the local database (for example via the command "npm run setup',":db",'" in the server repository), a collection named "storageproviders" must still be created, as there is no seed data for it with the necessary credentials (security aspect). The following document should then be inserted into this collection:']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"storageproviders collection:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "_id" : ObjectId("62949a4003839b6162aa566b"),\n    "isShared" : true,\n    "region" : "eu-central-1",\n    "type" : "S3",\n    "endpointUrl" : "http://localhost:9000",\n    "accessKeyId" : "miniouser",\n    "secretAccessKey" : "<secret>",\n    "maxBuckets" : 150.0,\n    "freeBuckets" : 138.0,\n    "createdAt" : ISODate("2021-02-09T09:30:42.507+0000"),\n    "updatedAt" : ISODate("2022-05-30T10:28:48.970+0000"),\n    "__v" : 0.0\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," You can use ",(0,i.jsx)(n.code,{children:"<workspace>/scripts/secret.js"})," to generate a valid secret key. Please note that your Minio account is also linked up."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'For this to be used, the appropriate provider must be entered in the "schools" collection in the respective school being used. Let\'s assume we want to use the user "lehrer@schul-cloud", then we go to the school named "Paul-Gerhardt-Gymnasium" and supplement the document there with the additional attribute and appropriate value from the storageprovider document created above:'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"schools collection:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"storageProvider" : ObjectId("62949a4003839b6162aa566b")\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Now both the new and the old file service can be used."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"generate-image-previews",children:"Generate image previews"}),"\n",(0,i.jsx)(n.p,{children:"The File Storage Service uses Imagemagick to generate preview images. For preview images to be generated, Imagemagick must be installed locally."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://gist.github.com/hurricup/e14ae5bc47705fca6b1680e7a1fb6580",children:"This script"})," installs Imagemagick with support for heic files (also works under WSL)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"p.s.:"})," If no preview is displayed - because it is still blocked by virus scan -, then in MongoDB: ",(0,i.jsx)(n.code,{children:"fileRecord.securityCheck.status"})," can be overwritten with ",(0,i.jsx)(n.code,{children:"verified"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"local-antivirus-via-docker",children:"Local antivirus via Docker"}),"\n",(0,i.jsx)(n.p,{children:"To run ClamAV locally as antivirus scanner - it is sufficient to start a corresponding Docker container as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 3310:3310 mkodockx/docker-clamav:alpine\n"})}),"\n",(0,i.jsx)(n.h3,{id:"set-up-redis",children:"Set up Redis"}),"\n",(0,i.jsxs)(n.p,{children:["In our deployments we use ",(0,i.jsx)(n.a,{href:"https://redis.io/",children:"Redis"})," for caching. Locally, Redis is not absolutely necessary. If Redis is not set up locally, an in-memory store is used by default, which does not need to be set up separately."]}),"\n",(0,i.jsx)(n.p,{children:"If Redis is to be used locally, the following steps are necessary for setup:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Start Redis as ",(0,i.jsx)(n.a,{href:"https://hub.docker.com/_/redis",children:"Docker container"})," ",(0,i.jsx)(n.strong,{children:"or"})," install locally."]}),"\n",(0,i.jsxs)(n.li,{children:["In the server, enter the URL of Redis as default under ",(0,i.jsx)(n.code,{children:"REDIS_URI"})," in ",(0,i.jsx)(n.code,{children:"default.schema.json"})," (normally: ",(0,i.jsx)(n.code,{children:"redis://localhost:6379"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["In the Legacy Client, enter the URL of Redis as default for ",(0,i.jsx)(n.code,{children:"REDIS_URI"})," in ",(0,i.jsx)(n.code,{children:"config/global.js"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"set-up-superhero-dashboard",children:"Set up SuperHero Dashboard"}),"\n",(0,i.jsxs)(n.p,{children:["Prerequisite: clone the repo from ",(0,i.jsx)(n.a,{href:"https://github.com/hpi-schul-cloud/superhero-dashboard",children:"https://github.com/hpi-schul-cloud/superhero-dashboard"})]}),"\n",(0,i.jsx)(n.p,{children:"To work with the SuperHero Dashboard (SHD) - which is basically used as a database layer for editing user data for non-devs - there are a few things to consider since using Node version 20."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Under Windows:"})," Many packages used in the SHD are very outdated and require the installation of additional C++ packages to install the dependencies of the repository. Here it is best to work along the error log and install the respective packages afterwards."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Under Mac:"}),' For the same reason, the package "distutils" is used here, which is normally covered by the Python installation, but has not been included there since Python 3.12. Here you have to go a separate way to get the necessary functionalities. It is best to use one of the following ways using homebrew under macOS.']}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["The installation of ",(0,i.jsx)(n.code,{children:"brew install python-setuptools"}),", in the hope that everything necessary was installed there."]}),"\n",(0,i.jsxs)(n.li,{children:["If 1. doesn't work, you should use the old Python version using ",(0,i.jsx)(n.code,{children:"brew install python@3.11"}),' then the corresponding Env Var must be set in ".zshrc". Either with ',(0,i.jsx)(n.code,{children:"export PYTHON=3.11"})," or ",(0,i.jsx)(n.code,{children:"export npm_config_python=/opt/homebrew/bin/python3.11"}),", if necessary, both can be used at the same time, nothing can break for now."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var l=s(6540);const i={},r=l.createContext(i);function o(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);