"use strict";(self.webpackChunkdataport_docusaurus=self.webpackChunkdataport_docusaurus||[]).push([[6567],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=d(a),c=r,k=s["".concat(p,".").concat(c)]||s[c]||m[c]||l;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[s]="string"==typeof e?e:r,o[1]=i;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},4298:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},o="Project Structure",i={unversionedId:"frontend/ProjectStructure",id:"frontend/ProjectStructure",title:"Project Structure",description:"Filenames",source:"@site/docs/frontend/1_ProjectStructure.md",sourceDirName:"frontend",slug:"/frontend/ProjectStructure",permalink:"/docs/frontend/ProjectStructure",draft:!1,editUrl:"https://github.com/hpi-schul-cloud/hpi-schul-cloud.github.io/blob/main/docs/frontend/1_ProjectStructure.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/docs/category/frontend"},next:{title:"Code Conventions",permalink:"/docs/frontend/CodeConventions"}},p={},d=[{value:"Filenames",id:"filenames",level:2},{value:"Folders",id:"folders",level:2},{value:"Building Blocks",id:"building-blocks",level:2},{value:"What is a building-block?",id:"what-is-a-building-block",level:3},{value:"Types of building-blocks",id:"types-of-building-blocks",level:3},{value:"Matrix of allowed imports",id:"matrix-of-allowed-imports",level:4},{value:"Type: Page",id:"type-page",level:4},{value:"Type: Feature",id:"type-feature",level:4},{value:"Type: UI",id:"type-ui",level:4},{value:"Type: Data",id:"type-data",level:4},{value:"Type: Util",id:"type-util",level:4},{value:"Life of a feature module",id:"life-of-a-feature-module",level:3},{value:"Starting a new Feature module",id:"starting-a-new-feature-module",level:4},{value:"Another module needs access to the data of your feature",id:"another-module-needs-access-to-the-data-of-your-feature",level:4},{value:"Another module needs access to some of your UI-Components that form your feature",id:"another-module-needs-access-to-some-of-your-ui-components-that-form-your-feature",level:4},{value:"How to pick the correct type for my Task",id:"how-to-pick-the-correct-type-for-my-task",level:3}],u={toc:d},s="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(s,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"project-structure"},"Project Structure"),(0,r.kt)("h2",{id:"filenames"},"Filenames"),(0,r.kt)("p",null,"Files should be consistently named like this:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"file content"),(0,r.kt)("th",{parentName:"tr",align:null},"style"),(0,r.kt)("th",{parentName:"tr",align:null},"filename"),(0,r.kt)("th",{parentName:"tr",align:null},"comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Components"),(0,r.kt)("td",{parentName:"tr",align:null},"PascalCase"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"YourComponent.vue")),(0,r.kt)("td",{parentName:"tr",align:null},"best practice")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Pinia stores"),(0,r.kt)("td",{parentName:"tr",align:null},"PascalCase"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BoardCard.store.ts")),(0,r.kt)("td",{parentName:"tr",align:null},"placed in data- modules")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Composables"),(0,r.kt)("td",{parentName:"tr",align:null},"CamelCase"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"confirmationDialog.composable.ts")),(0,r.kt)("td",{parentName:"tr",align:null},"current convention")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Utils"),(0,r.kt)("td",{parentName:"tr",align:null},"CamelCase"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yourArea.util.ts")),(0,r.kt)("td",{parentName:"tr",align:null},"suggestion: move from yourUtil.ts => your.util.ts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"other files"),(0,r.kt)("td",{parentName:"tr",align:null},"CamelCase"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yourFilename.ts")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"test files"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{{ basename }}.unit.ts")),(0,r.kt)("td",{parentName:"tr",align:null},"e.g. YourComponent",(0,r.kt)("strong",{parentName:"td"},".unit.ts"),", yourArea.util",(0,r.kt)("strong",{parentName:"td"},".unit.ts"))))),(0,r.kt)("h2",{id:"folders"},"Folders"),(0,r.kt)("p",null,"Folders are written in ",(0,r.kt)("strong",{parentName:"p"},"KebabCase")," (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"feature-board"),")."),(0,r.kt)("h2",{id:"building-blocks"},"Building Blocks"),(0,r.kt)("p",null,"The project's code is separated into building blocks."),(0,r.kt)("h3",{id:"what-is-a-building-block"},"What is a building-block?"),(0,r.kt)("p",null,"A ",(0,r.kt)("strong",{parentName:"p"},"building-block"),' is a "container" were we place most of our applications logic and components. Each building-block is defined by an ',(0,r.kt)("inlineCode",{parentName:"p"},"index.ts (Barrel-File)")," describing it's exported content (public API of a building-block) and a ",(0,r.kt)("inlineCode",{parentName:"p"},"type"),"."),(0,r.kt)("p",null,"Utilizing linting rules and the index.ts we can ensure that each building-block only exposes files which are meant to be used application-wide. This way we achieve a strong separation of concern across the whole application."),(0,r.kt)("p",null,"Our linting rule is based on the following concept: ",(0,r.kt)("a",{parentName:"p",href:"https://nx.dev/core-features/enforce-project-boundaries"},"Enforce Project Boundaries | Nx")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note: in above documentation ",(0,r.kt)("strong",{parentName:"em"},"libraries")," are equivalent to building-blocks and ",(0,r.kt)("strong",{parentName:"em"},"tags")," represent the types defined below.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"near future"),': All newer modules, that already follow our naming convention (see link above), will move from "components/" into a central "modules/" folder with one subfolder for each type of module (',(0,r.kt)("inlineCode",{parentName:"p"},"page/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"data/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"feature/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"ui/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"util/")," )."),(0,r.kt)("h3",{id:"types-of-building-blocks"},"Types of building-blocks"),(0,r.kt)("p",null,"There are different types of building blocks each with a different purpose."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"example"),(0,r.kt)("th",{parentName:"tr",align:null},"comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Page"),(0,r.kt)("td",{parentName:"tr",align:null},"modules / ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"page"))," / dashboard"),(0,r.kt)("td",{parentName:"tr",align:null},"Contains a subpage of the application. Orchestrates Feature and UI building-blocks.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Feature"),(0,r.kt)("td",{parentName:"tr",align:null},"modules / ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"feature"))," / calendar"),(0,r.kt)("td",{parentName:"tr",align:null},"Complex features with ",(0,r.kt)("strong",{parentName:"td"},"stateful / smart components"),". Usually specialized to fulfill specific roles in the App. Can also contain presentational components that are specialized for this feature.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UI"),(0,r.kt)("td",{parentName:"tr",align:null},"modules / ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"ui"))," / forms"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Stateless / presentational components")," which get their data via props and emit events. Usually less specialized.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Data"),(0,r.kt)("td",{parentName:"tr",align:null},"modules / ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"data"))," / auth"),(0,r.kt)("td",{parentName:"tr",align:null},"State and API-access. Does not contain any visual components. They are the data-sources of all smart components.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Util"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("nobr",null," modules / ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"util"))," / form-validators ")),(0,r.kt)("td",{parentName:"tr",align:null},"Contains shared low-level code.")))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},(0,r.kt)("strong",{parentName:"em"},"Hint"),": currently the modules are all placed under /components/feature-... etc. and will be refactored to the above with this ticket: ",(0,r.kt)("a",{parentName:"em",href:"https://ticketsystem.dbildungscloud.de/browse/BC-5513"},"BC-5513"))),(0,r.kt)("h4",{id:"matrix-of-allowed-imports"},"Matrix of allowed imports"),(0,r.kt)("p",null,"Each type is only allowed to import modules of some of the other types."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," Allowed to Import ","\u2192"," ",(0,r.kt)("br",null)," It is ","\u2193"),(0,r.kt)("th",{parentName:"tr",align:null},"page"),(0,r.kt)("th",{parentName:"tr",align:null},"feature"),(0,r.kt)("th",{parentName:"tr",align:null},"data"),(0,r.kt)("th",{parentName:"tr",align:null},"ui"),(0,r.kt)("th",{parentName:"tr",align:null},"util"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"page"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"feature"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"data"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ui"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"util"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")))),(0,r.kt)("h4",{id:"type-page"},"Type: Page"),(0,r.kt)("p",null,"A page building-block represents a ",(0,r.kt)("strong",{parentName:"p"},"subpage")," of the application. It contains the layout component and orchestrates feature and ui building blocks to create a subpage. It can not be imported into any other type of building-block. It is ",(0,r.kt)("strong",{parentName:"p"},"only imported by the vue-router")," and should be ",(0,r.kt)("strong",{parentName:"p"},"lazy-loaded")," if possible."),(0,r.kt)("h4",{id:"type-feature"},"Type: Feature"),(0,r.kt)("p",null,"A feature building-block contains a set of files that represent a business use case in an application."),(0,r.kt)("p",null,"Most of the components of features are ",(0,r.kt)("strong",{parentName:"p"},"stateful / smart components")," that interact with data sources. This type also contains most of the UI logic, form validation code, etc."),(0,r.kt)("h4",{id:"type-ui"},"Type: UI"),(0,r.kt)("p",null,"A ui building-block mainly contains ",(0,r.kt)("strong",{parentName:"p"},"Stateless / presentational components")," which are used all across the application. They don't have access to stores and do not use features in their templates. All data needed for components in ui building-blocks comes from props."),(0,r.kt)("h4",{id:"type-data"},"Type: Data"),(0,r.kt)("p",null,"A data building-block contains ",(0,r.kt)("strong",{parentName:"p"},"stores and api-services"),". It does not contain any view components. They serve as data-sources for feature and page building blocks."),(0,r.kt)("h4",{id:"type-util"},"Type: Util"),(0,r.kt)("p",null,"A utility building-block contains ",(0,r.kt)("strong",{parentName:"p"},"low level code")," used by many building-blocks. Often there is no framework-specific code and the building-block is simply a collection of types, utilities, pure functions, factories or composables."),(0,r.kt)("p",null,"Placed in folder ",(0,r.kt)("strong",{parentName:"p"},"util")),(0,r.kt)("h3",{id:"life-of-a-feature-module"},"Life of a feature module"),(0,r.kt)("h4",{id:"starting-a-new-feature-module"},"Starting a new Feature module"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"create a new subfolder inside of ",(0,r.kt)("inlineCode",{parentName:"li"},"modules/feature/"),"-folder and give it a speaking name"),(0,r.kt)("li",{parentName:"ol"},"place any files of different purposes (for ui, data and/or util) inside of it."),(0,r.kt)("li",{parentName:"ol"},"provide a barrel-file ",(0,r.kt)("strong",{parentName:"li"},"index.ts")," that defines it's exposed API - the functionality that other modules are allowed to use. This should only export the bare minimum.")),(0,r.kt)("h4",{id:"another-module-needs-access-to-the-data-of-your-feature"},"Another module needs access to the data of your feature"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"do not export your data-functionality from your feature"),(0,r.kt)("li",{parentName:"ol"},"refactor your feature-module and extract the data part of it into a new data-module"),(0,r.kt)("li",{parentName:"ol"},"use this new data-module in the original feature and the other module that also needs access")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note: if you know upfront, which parts will definitly be used outside your feature, implement the data-module upfront")),(0,r.kt)("h4",{id:"another-module-needs-access-to-some-of-your-ui-components-that-form-your-feature"},"Another module needs access to some of your UI-Components that form your feature"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"do not export these components simply from your feature"),(0,r.kt)("li",{parentName:"ol"},"if the components are simple / dumb and do not need data-access: consider extracting them into a separate ",(0,r.kt)("strong",{parentName:"li"},"ui-module")," ",(0,r.kt)("em",{parentName:"li"},"(example: ui/preview-image)")),(0,r.kt)("li",{parentName:"ol"},"if the components are coupled with some data-functionality but this does not belong to the core of your feature: consider extracting those parts into a separate ",(0,r.kt)("strong",{parentName:"li"},"feature-module")," ",(0,r.kt)("em",{parentName:"li"},"(example: feature/alert-list)"))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note: if you are sure that a part of your feature, will be reused in the project - consider extracting it from your ticket - before implementation - and implement it first.")),(0,r.kt)("h3",{id:"how-to-pick-the-correct-type-for-my-task"},"How to pick the correct type for my Task"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"To render this graph in VS-Code markdown preview install this extension: bierner.markdown-mermaid")),(0,r.kt)("mermaid",{value:"flowchart TD\n    A[Your Task] --\x3e B[Imagine the different requirements of the Task]\n    B --\x3e C{Do I need a new subpage}\n    C --\x3e|Yes| D(type: page)\n    C --\x3e|No| E{Do I need UI?}\n    E --\x3e |No| F{Do I need State?}\n    E --\x3e |Yes| G{Do I need State?}\n    F --\x3e|Yes| H(type: data)\n    F --\x3e|No| I(type: util)\n    G --\x3e|Yes| J(type: feature)\n    G --\x3e|No| K(type: ui)\n    H --\x3e L[Are all requirements of your task placed in a building-block?]\n    I --\x3e L\n    J --\x3e L\n    K --\x3e L\n    D --\x3e L\n    L --\x3e|Yes| M[Happy Coding!]\n    L --\x3e|No| O[You need an additional building-block]\n    O --\x3e B\n    M -.-> P[Evaluate your choices as a part of your review and refactor when neccessary]"}))}m.isMDXComponent=!0}}]);