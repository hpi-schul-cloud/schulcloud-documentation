"use strict";(self.webpackChunkdataport_docusaurus=self.webpackChunkdataport_docusaurus||[]).push([[5402],{7874:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"frontend/ProjectStructure","title":"Project Structure","description":"Filenames","source":"@site/docs/frontend/1_ProjectStructure.md","sourceDirName":"frontend","slug":"/frontend/ProjectStructure","permalink":"/docs/frontend/ProjectStructure","draft":false,"unlisted":false,"editUrl":"https://github.com/hpi-schul-cloud/hpi-schul-cloud.github.io/blob/main/docs/frontend/1_ProjectStructure.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"toc_min_heading_level":2,"toc_max_heading_level":4},"sidebar":"tutorialSidebar","previous":{"title":"Frontend","permalink":"/docs/category/frontend"},"next":{"title":"Code Conventions","permalink":"/docs/frontend/CodeConventions"}}');var i=n(4848),r=n(8453);const o={sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},d="Project Structure",l={},a=[{value:"Filenames",id:"filenames",level:2},{value:"Folders",id:"folders",level:2},{value:"Building Blocks",id:"building-blocks",level:2},{value:"What is a building-block?",id:"what-is-a-building-block",level:3},{value:"Types of building-blocks",id:"types-of-building-blocks",level:3},{value:"Matrix of allowed imports",id:"matrix-of-allowed-imports",level:4},{value:"Type: Page",id:"type-page",level:4},{value:"Type: Feature",id:"type-feature",level:4},{value:"Type: UI",id:"type-ui",level:4},{value:"Type: Data",id:"type-data",level:4},{value:"Type: Util",id:"type-util",level:4},{value:"Life of a feature module",id:"life-of-a-feature-module",level:3},{value:"Starting a new Feature module",id:"starting-a-new-feature-module",level:4},{value:"Another module needs access to the data of your feature",id:"another-module-needs-access-to-the-data-of-your-feature",level:4},{value:"Another module needs access to some of your UI-Components that form your feature",id:"another-module-needs-access-to-some-of-your-ui-components-that-form-your-feature",level:4},{value:"How to pick the correct type for my Task",id:"how-to-pick-the-correct-type-for-my-task",level:3}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"project-structure",children:"Project Structure"})}),"\n",(0,i.jsx)(t.h2,{id:"filenames",children:"Filenames"}),"\n",(0,i.jsx)(t.p,{children:"Files should be consistently named like this:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"file content"}),(0,i.jsx)(t.th,{children:"style"}),(0,i.jsx)(t.th,{children:"filename"}),(0,i.jsx)(t.th,{children:"comment"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Vue Components"}),(0,i.jsx)(t.td,{children:"PascalCase"}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"YourComponent.vue"}),(0,i.jsx)("br",{}),(0,i.jsx)(t.code,{children:"YourComponent.unit.ts"})]}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"<PascalCaseName>.<scope>.vue"}),(0,i.jsx)("br",{})," ",(0,i.jsx)(t.code,{children:"<PascalCaseName>.<scope>.unit.ts"}),".  ",(0,i.jsx)("br",{})," Use the same name in html markup. ",(0,i.jsx)("br",{}),(0,i.jsx)(t.code,{children:"<TheBoard/>"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"TS/JS files"}),(0,i.jsx)(t.td,{children:"KebabCase"}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"board-view.store.ts"}),(0,i.jsx)("br",{})," ",(0,i.jsx)(t.code,{children:"board-view.store.unit.ts"})]}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"<kebap-case-name>.<scope>.<ext>"}),(0,i.jsx)("br",{}),(0,i.jsx)(t.code,{children:"<kebap-case-name>.<scope>.unit.<ext>"})]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"folders",children:"Folders"}),"\n",(0,i.jsxs)(t.p,{children:["Folders are written in ",(0,i.jsx)(t.strong,{children:"KebabCase"})," (e.g. ",(0,i.jsx)(t.code,{children:"feature-board"}),")."]}),"\n",(0,i.jsx)(t.h2,{id:"building-blocks",children:"Building Blocks"}),"\n",(0,i.jsx)(t.p,{children:"The project's code is separated into building blocks."}),"\n",(0,i.jsx)(t.h3,{id:"what-is-a-building-block",children:"What is a building-block?"}),"\n",(0,i.jsxs)(t.p,{children:["A ",(0,i.jsx)(t.strong,{children:"building-block"}),' is a "container" were we place most of our applications logic and components. Each building-block is defined by an ',(0,i.jsx)(t.code,{children:"index.ts (Barrel-File)"})," describing it's exported content (public API of a building-block) and a ",(0,i.jsx)(t.code,{children:"type"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Utilizing linting rules and the index.ts we can ensure that each building-block only exposes files which are meant to be used application-wide. This way we achieve a strong separation of concern across the whole application."}),"\n",(0,i.jsxs)(t.p,{children:["Our linting rule is based on the following concept: ",(0,i.jsx)(t.a,{href:"https://nx.dev/core-features/enforce-project-boundaries",children:"Enforce Project Boundaries | Nx"})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.em,{children:["Note: in above documentation ",(0,i.jsx)(t.strong,{children:"libraries"})," are equivalent to building-blocks and ",(0,i.jsx)(t.strong,{children:"tags"})," represent the types defined below."]})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"near future"}),': All newer modules, that already follow our naming convention (see link above), will move from "components/" into a central "modules/" folder with one subfolder for each type of module (',(0,i.jsx)(t.code,{children:"page/"}),", ",(0,i.jsx)(t.code,{children:"data/"}),", ",(0,i.jsx)(t.code,{children:"feature/"}),", ",(0,i.jsx)(t.code,{children:"ui/"}),", ",(0,i.jsx)(t.code,{children:"util/"})," )."]}),"\n",(0,i.jsx)(t.h3,{id:"types-of-building-blocks",children:"Types of building-blocks"}),"\n",(0,i.jsx)(t.p,{children:"There are different types of building blocks each with a different purpose."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"type"}),(0,i.jsx)(t.th,{children:"example"}),(0,i.jsx)(t.th,{children:"comment"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Page"}),(0,i.jsxs)(t.td,{children:["modules / ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"page"})})," / dashboard"]}),(0,i.jsx)(t.td,{children:"Contains a subpage of the application. Orchestrates Feature and UI building-blocks."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Feature"}),(0,i.jsxs)(t.td,{children:["modules / ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"feature"})})," / calendar"]}),(0,i.jsxs)(t.td,{children:["Complex features with ",(0,i.jsx)(t.strong,{children:"stateful / smart components"}),". Usually specialized to fulfill specific roles in the App. Can also contain presentational components that are specialized for this feature."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"UI"}),(0,i.jsxs)(t.td,{children:["modules / ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"ui"})})," / forms"]}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.strong,{children:"Stateless / presentational components"})," which get their data via props and emit events. Usually less specialized."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Data"}),(0,i.jsxs)(t.td,{children:["modules / ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"data"})})," / auth"]}),(0,i.jsx)(t.td,{children:"State and API-access. Does not contain any visual components. They are the data-sources of all smart components."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Util"}),(0,i.jsx)(t.td,{children:(0,i.jsxs)("nobr",{children:[" modules / ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"util"})})," / form-validators "]})}),(0,i.jsx)(t.td,{children:"Contains shared low-level code."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.em,{children:[(0,i.jsx)(t.strong,{children:"Hint"}),": currently the modules are all placed under /components/feature-... etc. and will be refactored to the above with this ticket: ",(0,i.jsx)(t.a,{href:"https://ticketsystem.dbildungscloud.de/browse/BC-5513",children:"BC-5513"})]})}),"\n",(0,i.jsx)(t.h4,{id:"matrix-of-allowed-imports",children:"Matrix of allowed imports"}),"\n",(0,i.jsx)(t.p,{children:"Each type is only allowed to import modules of some of the other types."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.th,{style:{textAlign:"left"},children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 Allowed to Import \u2192 ",(0,i.jsx)("br",{})," It is \u2193"]}),(0,i.jsx)(t.th,{children:"page"}),(0,i.jsx)(t.th,{children:"feature"}),(0,i.jsx)(t.th,{children:"data"}),(0,i.jsx)(t.th,{children:"ui"}),(0,i.jsx)(t.th,{children:"util"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"page"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"feature"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"data"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"ui"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"\u2714"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"util"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"\u2714"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"type-page",children:"Type: Page"}),"\n",(0,i.jsxs)(t.p,{children:["A page building-block represents a ",(0,i.jsx)(t.strong,{children:"subpage"})," of the application. It contains the layout component and orchestrates feature and ui building blocks to create a subpage. It can not be imported into any other type of building-block. It is ",(0,i.jsx)(t.strong,{children:"only imported by the vue-router"})," and should be ",(0,i.jsx)(t.strong,{children:"lazy-loaded"})," if possible."]}),"\n",(0,i.jsx)(t.h4,{id:"type-feature",children:"Type: Feature"}),"\n",(0,i.jsx)(t.p,{children:"A feature building-block contains a set of files that represent a business use case in an application."}),"\n",(0,i.jsxs)(t.p,{children:["Most of the components of features are ",(0,i.jsx)(t.strong,{children:"stateful / smart components"})," that interact with data sources. This type also contains most of the UI logic, form validation code, etc."]}),"\n",(0,i.jsx)(t.h4,{id:"type-ui",children:"Type: UI"}),"\n",(0,i.jsxs)(t.p,{children:["A ui building-block mainly contains ",(0,i.jsx)(t.strong,{children:"Stateless / presentational components"})," which are used all across the application. They don't have access to stores and do not use features in their templates. All data needed for components in ui building-blocks comes from props."]}),"\n",(0,i.jsx)(t.h4,{id:"type-data",children:"Type: Data"}),"\n",(0,i.jsxs)(t.p,{children:["A data building-block contains ",(0,i.jsx)(t.strong,{children:"stores and api-services"}),". It does not contain any view components. They serve as data-sources for feature and page building blocks."]}),"\n",(0,i.jsx)(t.h4,{id:"type-util",children:"Type: Util"}),"\n",(0,i.jsxs)(t.p,{children:["A utility building-block contains ",(0,i.jsx)(t.strong,{children:"low level code"})," used by many building-blocks. Often there is no framework-specific code and the building-block is simply a collection of types, utilities, pure functions, factories or composables."]}),"\n",(0,i.jsxs)(t.p,{children:["Placed in folder ",(0,i.jsx)(t.strong,{children:"util"})]}),"\n",(0,i.jsx)(t.h3,{id:"life-of-a-feature-module",children:"Life of a feature module"}),"\n",(0,i.jsx)(t.h4,{id:"starting-a-new-feature-module",children:"Starting a new Feature module"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["create a new subfolder inside of ",(0,i.jsx)(t.code,{children:"modules/feature/"}),"-folder and give it a speaking name"]}),"\n",(0,i.jsx)(t.li,{children:"place any files of different purposes (for ui, data and/or util) inside of it."}),"\n",(0,i.jsxs)(t.li,{children:["provide a barrel-file ",(0,i.jsx)(t.strong,{children:"index.ts"})," that defines it's exposed API - the functionality that other modules are allowed to use. This should only export the bare minimum."]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"another-module-needs-access-to-the-data-of-your-feature",children:"Another module needs access to the data of your feature"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"do not export your data-functionality from your feature"}),"\n",(0,i.jsx)(t.li,{children:"refactor your feature-module and extract the data part of it into a new data-module"}),"\n",(0,i.jsx)(t.li,{children:"use this new data-module in the original feature and the other module that also needs access"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Note: if you know upfront, which parts will definitly be used outside your feature, implement the data-module upfront"})}),"\n",(0,i.jsx)(t.h4,{id:"another-module-needs-access-to-some-of-your-ui-components-that-form-your-feature",children:"Another module needs access to some of your UI-Components that form your feature"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"do not export these components simply from your feature"}),"\n",(0,i.jsxs)(t.li,{children:["if the components are simple / dumb and do not need data-access: consider extracting them into a separate ",(0,i.jsx)(t.strong,{children:"ui-module"})," ",(0,i.jsx)(t.em,{children:"(example: ui/preview-image)"})]}),"\n",(0,i.jsxs)(t.li,{children:["if the components are coupled with some data-functionality but this does not belong to the core of your feature: consider extracting those parts into a separate ",(0,i.jsx)(t.strong,{children:"feature-module"})," ",(0,i.jsx)(t.em,{children:"(example: feature/alert-list)"})]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Note: if you are sure that a part of your feature, will be reused in the project - consider extracting it from your ticket - before implementation - and implement it first."})}),"\n",(0,i.jsx)(t.h3,{id:"how-to-pick-the-correct-type-for-my-task",children:"How to pick the correct type for my Task"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"To render this graph in VS-Code markdown preview install this extension: bierner.markdown-mermaid"})}),"\n",(0,i.jsx)(t.mermaid,{value:"flowchart TD\n    A[Your Task] --\x3e B[Imagine the different requirements of the Task]\n    B --\x3e C{Do I need a new subpage}\n    C --\x3e|Yes| D(type: page)\n    C --\x3e|No| E{Do I need UI?}\n    E --\x3e |No| F{Do I need State?}\n    E --\x3e |Yes| G{Do I need State?}\n    F --\x3e|Yes| H(type: data)\n    F --\x3e|No| I(type: util)\n    G --\x3e|Yes| J(type: feature)\n    G --\x3e|No| K(type: ui)\n    H --\x3e L[Are all requirements of your task placed in a building-block?]\n    I --\x3e L\n    J --\x3e L\n    K --\x3e L\n    D --\x3e L\n    L --\x3e|Yes| M[Happy Coding!]\n    L --\x3e|No| O[You need an additional building-block]\n    O --\x3e B\n    M -.-> P[Evaluate your choices as a part of your review and refactor when neccessary]"})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>d});var s=n(6540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);