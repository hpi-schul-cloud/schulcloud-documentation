"use strict";(self.webpackChunkdataport_docusaurus=self.webpackChunkdataport_docusaurus||[]).push([[5001],{1381:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/circular_dependency_1-10d4169794cebf296865820873f735e8.png"},2599:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/circular_dependency_3-dadf247ac040d82aeeaf6f27d77272e7.png"},7432:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/circular_dependency_4-5d7f63b9ffad7b598cd6dcd8716d5675.png"},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var r=i(6540);const t={},s=r.createContext(t);function d(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(s.Provider,{value:n},e.children)}},8741:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"frontend-design-patterns/IdentifyingAndResolvingCircularDependencies","title":"Identifying and Resolving Circular Dependencies","description":"What is a circular dependency?","source":"@site/docs/frontend-design-patterns/8_IdentifyingAndResolvingCircularDependencies.md","sourceDirName":"frontend-design-patterns","slug":"/frontend-design-patterns/IdentifyingAndResolvingCircularDependencies","permalink":"/docs/frontend-design-patterns/IdentifyingAndResolvingCircularDependencies","draft":false,"unlisted":false,"editUrl":"https://github.com/hpi-schul-cloud/hpi-schul-cloud.github.io/blob/main/docs/frontend-design-patterns/8_IdentifyingAndResolvingCircularDependencies.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Colors","permalink":"/docs/frontend-design-patterns/Colors"},"next":{"title":"Hints for Working","permalink":"/docs/frontend-design-patterns/HintsForWorking"}}');var t=i(4848),s=i(8453);const d={sidebar_position:9},c="Identifying and Resolving Circular Dependencies",o={},a=[{value:"What is a circular dependency?",id:"what-is-a-circular-dependency",level:2},{value:"Resolving Circular Dependencies",id:"resolving-circular-dependencies",level:2},{value:"How to identify Circular Dependencies in Vue",id:"how-to-identify-circular-dependencies-in-vue",level:2}];function l(e){const n={h1:"h1",h2:"h2",header:"header",img:"img",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"identifying-and-resolving-circular-dependencies",children:"Identifying and Resolving Circular Dependencies"})}),"\n",(0,t.jsx)(n.h2,{id:"what-is-a-circular-dependency",children:"What is a circular dependency?"}),"\n",(0,t.jsx)(n.p,{children:"Circular depencies are a common issue when working with barrel-files (index.ts)."}),"\n",(0,t.jsx)(n.p,{children:"Let's look at a common dependency pattern:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Circular Import",src:i(1381).A+"",width:"1250",height:"824"})}),"\n",(0,t.jsxs)(n.p,{children:["In this example there are two ",(0,t.jsx)(n.strong,{children:"Building-Blocks"})," (e.g. folders that have a barrel file) which depend on each other. Using the SharedComponent in both Building-Blocks will result in a circular dependency."]}),"\n",(0,t.jsx)(n.p,{children:"That basically means that the compiler can not resolve the order to load the Building-Blocks which causes an error."}),"\n",(0,t.jsx)(n.h2,{id:"resolving-circular-dependencies",children:"Resolving Circular Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["The basic gist is: ",(0,t.jsx)(n.strong,{children:"break the circle"})," and separate the shared dependency in a separate module."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Fixed Circular Import",src:i(9582).A+"",width:"904",height:"855"})}),"\n",(0,t.jsx)(n.p,{children:"In this configuration the compiler can find an order to resolve the building-blocks correctly."}),"\n",(0,t.jsx)(n.h2,{id:"how-to-identify-circular-dependencies-in-vue",children:"How to identify Circular Dependencies in Vue"}),"\n",(0,t.jsx)(n.p,{children:"I recreated the first example error in Vue. When Vue tries to render ComponentA I see the following Error in the console:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Error Message",src:i(2599).A+"",width:"1149",height:"241"})}),"\n",(0,t.jsx)(n.p,{children:"This can be quite hard to decipher on a first glance but it contains all the info we need to identify the root cause of the circular dependency."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Error Message Explained",src:i(7432).A+"",width:"1673",height:"482"})}),"\n",(0,t.jsx)(n.p,{children:'Based on the info from the message we can learn that ComponentB "closed the circle" by importing SharedComponent. From there we can trace back to see where SharedComponent is exposed and why it depends on ComponentB. In this case it is because they are both imported in ComponentA.'}),"\n",(0,t.jsx)(n.p,{children:"Keep in mind that the circular dependency can involve multiple building-blocks."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},9582:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/circular_dependency_2-5fd37037d2bcc5fc18a3905e517a9f6f.png"}}]);